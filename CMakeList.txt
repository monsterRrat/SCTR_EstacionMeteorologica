cmake_minimum_required(VERSION 3.13)

# Incluir el Pico SDK
include(pico_sdk_import.cmake)

# Establecer nombre del proyecto
project(SCTR_EstacionMeteorologica
    LANGUAGES C CXX ASM
)

# Inicializar el SDK de Pico
pico_sdk_init()

set(CMAKE_C_STANDARD 11)
set(CMAKE_CXX_STANDARD 17)

# Añadir los archivos fuente del proyecto
add_executable(SCTR_EstacionMeteorologica
    main.c
    DHT20/DHT20.c		        # Archivo del DHT20
    ssd1306/ssd1306.c		    # Archivo del ssd1306
    ssd1306/ssd1306_fonts.c	    # Archivo de las fuentes
    sgp30/sgp30.c		        # Archivo del sgp30
)

# Incluir las librerías necesarias
target_include_directories(SCTR_EstacionMeteorologica PRIVATE
    ${CMAKE_CURRENT_LIST_DIR}/DHT20
    ${CMAKE_CURRENT_LIST_DIR}/ssd1306
    ${CMAKE_CURRENT_LIST_DIR}/sgp30
)

# Enlazar las bibliotecas necesarias
target_link_libraries(SCTR_EstacionMeteorologica
    pico_stdlib
    hardware_i2c
    hardware_adc
)

# Enable USB output, disable UART
pico_enable_stdio_usb(SCTR_EstacionMeteorologica 1)
pico_enable_stdio_uart(SCTR_EstacionMeteorologica 0)

# Generar el archivo binario para la Pico
pico_add_extra_outputs(SCTR_EstacionMeteorologica)